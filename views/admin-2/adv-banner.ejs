<section>
  <div class="container mt-5">
    <div class="row">
      <div class="card col-md-12">
        <h2 class="text-center mt-5"><u>Advertisement Banner</u></h2>
        <p class="error text-center" id="errorBanner"></p>
        <form id="formAdv" action="/admin/bannerManagement/add-advBanner" method="post" enctype="multipart/form-data">
          <div class="col-md-12">
            <div class="col-md-6 mx-auto mt-3">
              <label for="" class="text-center">Category</label>
              <select name="category" id="category" required class="form-control text-secondary w-100 my-2.3">
                <option hidden>Select Category</option>
                <% category.forEach((element,index)=>{ %>
                <option><%= element.categories %></option>
                <% })%>
              </select>
            </div>
            <div class="col-md-6 mx-auto mt-3">
              <label for="" class="text-center">Description</label>
              <input type="text" id="description" name="description" class="form-control" required>
            </div>
            <div class="col-md-12 d-flex justify-content-center mt-3">
              <img id="imgView1" class="img-fluid  p-2" src="/assets/img/4047371.png" alt="product image" style="width: 370px; height: 120px; object-fit: contain; border-radius: 4px; ">
            </div>
            <div class="col-md-6 mx-auto">
              <label for="" class="mt-4 mx-2">Image</label>
              <input type="file" name="Image" class="form-control addPro" onchange="viewImage1(event)" required><br>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 mx-auto mt-3">
              <button type="button" onclick="validateBanner()" class="btn btn-primary">Add</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  </div>
  </div>
</section>

<script>
  function viewImage1(event) {
    document.getElementById('imgView1').src = URL.createObjectURL(event.target.files[0])
  }

  function validateBanner() {
    const category = document.getElementById('category')
    const categoryValue=category.options[category.selectedIndex].text

    const description = document.getElementById('description').value
    let error = document.getElementById('errorBanner')

    error.innerText = ""

    let flag = 1;

    if (categoryValue == "Select Category") {
      error.innerText = "Category is required"
      error.style.background = "rgb(200,0,0,0.1)"
      error.style.width = "100%"
      flag = 2
    } else if (description == "") {
      error.innerText = "Description is required"
      error.style.background = "rgb(200,0,0,0.1)"
      error.style.width = "100%"
      flag = 2
    }
    if(flag==1){
        document.getElementById('formAdv').submit()
    }

  }
</script>